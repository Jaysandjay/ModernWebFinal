<%- include('partials/header', { title: 'Edit Movie' }) %>

<section class="page">
  <div class="form-card">
    <h1>Edit Movie</h1>

    <% if (typeof error !== 'undefined' && error) { %>
      <p style="color:#ff9cae; margin-bottom:10px;"><%= error %></p>
    <% } %>

    <% if (movieToEdit) { %>
      <form action="/update/<%= movieToEdit._id %>" method="post" class="form-grid">
        <div class="form-group">
          <label for="name">Movie Name</label>
          <input type="text" id="name" name="name" value="<%= movieToEdit.name %>" required />
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea id="description" name="description" required><%= movieToEdit.description %></textarea>
        </div>

        <div class="form-group">
          <label for="year">Year</label>
          <input type="number" id="year" name="year" value="<%= movieToEdit.year %>" required />
        </div>

        <div class="form-group">
          <label for="genre">Genre</label>
          <input type="text" id="genre" name="genre" value="<%= movieToEdit.genre %>" required />
        </div>

        <div class="form-group">
          <label for="rating">Rating</label>
          <input type="number" step="0.1" min="0" max="10" id="rating" name="rating" value="<%= movieToEdit.rating %>" required />
        </div>

        <div class="form-group">
          <label for="music">Music / Soundtrack</label>
          <input type="text" id="music" name="music" value="<%= movieToEdit.music %>" />
        </div>

        <button type="submit" class="btn btn-primary">Save Changes</button>
      </form>
    <% } else { %>
      <p>Movie not found.</p>
    <% } %>
  </div>
</section>

<%- include('partials/footer') %>
